import"./CWj6FrbW.js";import{am as re,l as i,h as T,j as d,m as H,v as J,k as f,x as b,an as ne,p as Q,ao as le,s as g,n as X,i as y,y as E,o as Y,w as M,g as V,q}from"./xLGiGfZ5.js";import{p as ie,i as K,a as ve,s as G}from"./DWD_JfyE.js";import{b as ce,t as w}from"./DlONiHiX.js";import"./BVQDfOf6.js";import{C as de,t as fe,f as pe}from"./DXVbApW3.js";const ue=()=>({needRefresh:!1,updateServiceWorker:!1,offlineReady:!1});var me=re('<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 20 20"><path fill="currentColor" d="M10 3v2a5 5 0 0 0-3.54 8.54l-1.41 1.41A7 7 0 0 1 10 3zm4.95 2.05A7 7 0 0 1 10 17v-2a5 5 0 0 0 3.54-8.54l1.41-1.41zM10 20l-4-4l4-4v8zm0-12V0l4 4l-4 4z"></path></svg>');function _e(r){var e=me();i(r,e)}var he=T('<div role="button" tabindex="0"><!></div>');function Z(r,e){const n=ie(e,"flat",3,!1);var a=he();let l;a.__click=function(...t){var s;(s=e.onclick)==null||s.apply(this,t)},a.__keyup=function(...t){var s;(s=e.onclick)==null||s.apply(this,t)};var p=d(a);H(p,()=>e.children??J),f(a),b(t=>l=ce(a,1,"btn svelte-1btitu1",null,l,t),[()=>({primary:!n(),flat:n()})]),i(r,a)}ne(["click","keyup"]);var ge=T(" <!>",1),we=T('<div class="pwa-toast svelte-s3dj2x" role="alert"><div class="pwa-title svelte-s3dj2x"> </div> <div class="message svelte-s3dj2x"><span> </span></div> <div class="actions svelte-s3dj2x"><!> <!></div></div>');function ke(r,e){Q(e,!0);const n=le();function a(){n("close")}const l="Tip",p="Close";var t=we(),s=d(t),L=d(s,!0);f(s);var v=g(s,2),k=d(v),R=d(k,!0);f(k),f(v);var $=g(v,2),x=d($);H(x,()=>e.children??J);var C=g(x,2);Z(C,{onclick:a,flat:!0,children:(c,u)=>{X();var o=ge(),A=y(o),O=g(A);de(O),b(()=>{var m,_,h;return E(A,`${((h=(_=(m=w)==null?void 0:m.i18n)==null?void 0:_.pwa)==null?void 0:h.close)||p} `)}),i(c,o)},$$slots:{default:!0}}),f($),f(t),b(()=>{var c,u,o;E(L,((o=(u=(c=w)==null?void 0:c.i18n)==null?void 0:u.pwa)==null?void 0:o.tip)||l),E(R,e.message)}),fe(1,t,()=>pe),i(r,t),Y()}var Re=T(" <!>",1);function Ce(r,e){var m,_,h,W,P,j;Q(e,!0);const n=()=>G(R,"$offlineReady",l),a=()=>G(v,"$needRefresh",l),[l,p]=ve(),t="App ready to work offline",s="New content available, click on reload button to update",L="Reload",{needRefresh:v,updateServiceWorker:k,offlineReady:R}=ue();function $(){R.set(!1),v.set(!1)}const x=((h=(_=(m=w)==null?void 0:m.i18n)==null?void 0:_.pwa)==null?void 0:h.appReadyToWorkOffline)||t,C=((j=(P=(W=w)==null?void 0:W.i18n)==null?void 0:P.pwa)==null?void 0:j.newContentAvailable)||s,c=q(()=>n()||a()),u=q(()=>n()?x:C);var o=M(),A=y(o);{var O=D=>{ke(D,{get message(){return V(u)},$$events:{close:$},children:(ee,$e)=>{var N=M(),te=y(N);{var ae=F=>{Z(F,{onclick:()=>k(!0),children:(se,xe)=>{X();var U=Re(),z=y(U),oe=g(z);_e(oe),b(()=>{var S,B,I;return E(z,`${((I=(B=(S=w)==null?void 0:S.i18n)==null?void 0:B.pwa)==null?void 0:I.reload)||L} `)}),i(se,U)},$$slots:{default:!0}})};K(te,F=>{a()&&F(ae)})}i(ee,N)},$$slots:{default:!0}})};K(A,D=>{V(c)&&D(O)})}i(r,o),Y(),p()}export{Ce as default};
