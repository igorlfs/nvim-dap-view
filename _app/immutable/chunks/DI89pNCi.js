var te=Object.defineProperty;var U=s=>{throw TypeError(s)};var ne=(s,e,r)=>e in s?te(s,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):s[e]=r;var F=(s,e,r)=>ne(s,typeof e!="symbol"?e+"":e,r),j=(s,e,r)=>e.has(s)||U("Cannot "+r);var a=(s,e,r)=>(j(s,e,"read from private field"),r?r.call(s):e.get(s)),v=(s,e,r)=>e.has(s)?U("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(s):e.set(s,r),K=(s,e,r,t)=>(j(s,e,"write to private field"),t?t.call(s,r):e.set(s,r),r);import{J as $,K as ie,M as y,N as ae,O as C,P as H,Q as I,R as fe,S as ue,T as ce,U as G,V as J,W as Q,X as oe,Y as le,Z as de,_ as he,$ as pe,a0 as q,a1 as _e,a2 as ve,b as V,a3 as be,a4 as M,o as Z,H as ge,a5 as Se,A as W,a6 as Pe,g as E,a7 as we,F as Te,a8 as x,a9 as Ae,aa as Oe,ab as Re,ac as Ee,ad as Ie,ae as me,af as De,ag as ye,ah as xe,ai as Ne,aj as Me,f as Le,ak as Ye,al as w,L as X}from"./BijxjRFt.js";var d,h,l,b,T,A,m;class k{constructor(e,r=!0){F(this,"anchor");v(this,d,new Map);v(this,h,new Map);v(this,l,new Map);v(this,b,new Set);v(this,T,!0);v(this,A,()=>{var e=$;if(a(this,d).has(e)){var r=a(this,d).get(e),t=a(this,h).get(r);if(t)ie(t),a(this,b).delete(r);else{var n=a(this,l).get(r);n&&(a(this,h).set(r,n.effect),a(this,l).delete(r),n.fragment.lastChild.remove(),this.anchor.before(n.fragment),t=n.effect)}for(const[i,u]of a(this,d)){if(a(this,d).delete(i),i===e)break;const f=a(this,l).get(u);f&&(y(f.effect),a(this,l).delete(u))}for(const[i,u]of a(this,h)){if(i===r||a(this,b).has(i))continue;const f=()=>{if(Array.from(a(this,d).values()).includes(i)){var p=document.createDocumentFragment();ue(u,p),p.append(C()),a(this,l).set(i,{effect:u,fragment:p})}else y(u);a(this,b).delete(i),a(this,h).delete(i)};a(this,T)||!t?(a(this,b).add(i),ae(u,f,!1)):f()}}});v(this,m,e=>{a(this,d).delete(e);const r=Array.from(a(this,d).values());for(const[t,n]of a(this,l))r.includes(t)||(y(n.effect),a(this,l).delete(t))});this.anchor=e,K(this,T,r)}ensure(e,r){var t=$,n=ce();if(r&&!a(this,h).has(e)&&!a(this,l).has(e))if(n){var i=document.createDocumentFragment(),u=C();i.append(u),a(this,l).set(e,{effect:H(()=>r(u)),fragment:i})}else a(this,h).set(e,H(()=>r(this.anchor)));if(a(this,d).set(t,e),n){for(const[f,c]of a(this,h))f===e?t.unskip_effect(c):t.skip_effect(c);for(const[f,c]of a(this,l))f===e?t.unskip_effect(c.effect):t.skip_effect(c.effect);t.oncommit(a(this,A)),t.ondiscard(a(this,m))}else I&&(this.anchor=fe),a(this,A).call(this)}}d=new WeakMap,h=new WeakMap,l=new WeakMap,b=new WeakMap,T=new WeakMap,A=new WeakMap,m=new WeakMap;function $e(s,e,r=!1){I&&J();var t=new k(s),n=r?Q:0;function i(u,f){if(I){const _=oe(s);var c;if(_===le?c=0:_===de?c=!1:c=parseInt(_.substring(1)),u!==c){var p=he();pe(p),t.anchor=p,q(!1),t.ensure(u,f),q(!0);return}}t.ensure(u,f)}G(()=>{var u=!1;e((f,c=0)=>{u=!0,i(c,f)}),u||i(!1,null)},n)}function Ce(s,e,r){I&&J();var t=new k(s);G(()=>{var n=e()??null;t.ensure(n,n&&(i=>r(i,n)))},Q)}function z(s,e){return s===e||(s==null?void 0:s[M])===e}function He(s={},e,r,t){return _e(()=>{var n,i;return ve(()=>{n=i,i=[],V(()=>{s!==r(...i)&&(e(s,...i),n&&z(r(...n),s)&&e(null,...n))})}),()=>{be(()=>{i&&z(r(...i),s)&&e(null,...i)})}}),s}let R=!1,N=Symbol();function qe(s,e,r){const t=r[e]??(r[e]={store:null,source:ge(void 0),unsubscribe:Z});if(t.store!==s&&!(N in r))if(t.unsubscribe(),t.store=s??null,s==null)t.source.v=void 0,t.unsubscribe=Z;else{var n=!0;t.unsubscribe=Se(s,i=>{n?t.source.v=i:W(t.source,i)}),n=!1}return s&&N in r?Pe(s):E(t.source)}function Ze(s,e){return s.set(e),e}function ze(){const s={};function e(){we(()=>{for(var r in s)s[r].unsubscribe();Te(s,N,{enumerable:!1,value:!0})})}return[s,e]}function Be(s){var e=R;try{return R=!1,[s(),R]}finally{R=e}}const Ue={get(s,e){if(!s.exclude.includes(e))return s.props[e]},set(s,e){return!1},getOwnPropertyDescriptor(s,e){if(!s.exclude.includes(e)&&e in s.props)return{enumerable:!0,configurable:!0,value:s.props[e]}},has(s,e){return s.exclude.includes(e)?!1:e in s.props},ownKeys(s){return Reflect.ownKeys(s.props).filter(e=>!s.exclude.includes(e))}};function Ge(s,e,r){return new Proxy({props:s,exclude:e},Ue)}const Fe={get(s,e){let r=s.props.length;for(;r--;){let t=s.props[r];if(w(t)&&(t=t()),typeof t=="object"&&t!==null&&e in t)return t[e]}},set(s,e,r){let t=s.props.length;for(;t--;){let n=s.props[t];w(n)&&(n=n());const i=x(n,e);if(i&&i.set)return i.set(r),!0}return!1},getOwnPropertyDescriptor(s,e){let r=s.props.length;for(;r--;){let t=s.props[r];if(w(t)&&(t=t()),typeof t=="object"&&t!==null&&e in t){const n=x(t,e);return n&&!n.configurable&&(n.configurable=!0),n}}},has(s,e){if(e===M||e===X)return!1;for(let r of s.props)if(w(r)&&(r=r()),r!=null&&e in r)return!0;return!1},ownKeys(s){const e=[];for(let r of s.props)if(w(r)&&(r=r()),!!r){for(const t in r)e.includes(t)||e.push(t);for(const t of Object.getOwnPropertySymbols(r))e.includes(t)||e.push(t)}return e}};function Je(...s){return new Proxy({props:s},Fe)}function Qe(s,e,r,t){var Y;var n=!xe||(r&Ne)!==0,i=(r&ye)!==0,u=(r&De)!==0,f=t,c=!0,p=()=>(c&&(c=!1,f=u?V(t):t),f),_;if(i){var ee=M in s||X in s;_=((Y=x(s,e))==null?void 0:Y.set)??(ee&&e in s?o=>s[e]=o:void 0)}var S,L=!1;i?[S,L]=Be(()=>s[e]):S=s[e],S===void 0&&t!==void 0&&(S=p(),_&&(n&&Ae(),_(S)));var g;if(n?g=()=>{var o=s[e];return o===void 0?p():(c=!0,o)}:g=()=>{var o=s[e];return o!==void 0&&(f=void 0),o===void 0?f:o},n&&!(r&Oe))return g;if(_){var se=s.$$legacy;return function(o,O){return arguments.length>0?((!n||!O||se||L)&&_(O?g():o),o):g()}}var D=!1,P=(r&Me?Le:Ye)(()=>(D=!1,g()));i&&E(P);var re=Ie;return function(o,O){if(arguments.length>0){const B=O?E(P):n&&i?Re(o):o;return W(P,B),D=!0,f!==void 0&&(f=B),o}return Ee&&D||re.f&me?P.v:E(P)}}export{k as B,ze as a,He as b,Ce as c,Je as d,Ze as e,$e as i,Qe as p,Ge as r,qe as s};
