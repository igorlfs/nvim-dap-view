var te=Object.defineProperty;var Y=s=>{throw TypeError(s)};var ne=(s,e,r)=>e in s?te(s,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):s[e]=r;var F=(s,e,r)=>ne(s,typeof e!="symbol"?e+"":e,r),j=(s,e,r)=>e.has(s)||Y("Cannot "+r);var a=(s,e,r)=>(j(s,e,"read from private field"),r?r.call(s):e.get(s)),_=(s,e,r)=>e.has(s)?Y("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(s):e.set(s,r),K=(s,e,r,t)=>(j(s,e,"write to private field"),t?t.call(s,r):e.set(s,r),r);import{J as $,K as ie,M as D,N as ae,O as k,P as C,Q as T,R as fe,S as ue,T as ce,U as z,V as G,W as J,X as oe,Y as le,Z as de,_ as he,$ as q,a0 as pe,a1 as _e,b as Q,a2 as ve,a3 as N,o as H,H as be,a4 as ge,A as V,a5 as Se,g as R,a6 as Pe,F as we,a7 as x,a8 as ye,a9 as Oe,aa as Ae,ab as Ee,ac as Re,ad as Te,ae as me,af as Ie,ag as De,ah as xe,ai as Me,f as Ne,aj as Le,ak as w,L as W}from"./DHpThaly.js";var d,h,l,v,y,O,m;class X{constructor(e,r=!0){F(this,"anchor");_(this,d,new Map);_(this,h,new Map);_(this,l,new Map);_(this,v,new Set);_(this,y,!0);_(this,O,()=>{var e=$;if(a(this,d).has(e)){var r=a(this,d).get(e),t=a(this,h).get(r);if(t)ie(t),a(this,v).delete(r);else{var n=a(this,l).get(r);n&&(a(this,h).set(r,n.effect),a(this,l).delete(r),n.fragment.lastChild.remove(),this.anchor.before(n.fragment),t=n.effect)}for(const[i,u]of a(this,d)){if(a(this,d).delete(i),i===e)break;const f=a(this,l).get(u);f&&(D(f.effect),a(this,l).delete(u))}for(const[i,u]of a(this,h)){if(i===r||a(this,v).has(i))continue;const f=()=>{if(Array.from(a(this,d).values()).includes(i)){var p=document.createDocumentFragment();ue(u,p),p.append(k()),a(this,l).set(i,{effect:u,fragment:p})}else D(u);a(this,v).delete(i),a(this,h).delete(i)};a(this,y)||!t?(a(this,v).add(i),ae(u,f,!1)):f()}}});_(this,m,e=>{a(this,d).delete(e);const r=Array.from(a(this,d).values());for(const[t,n]of a(this,l))r.includes(t)||(D(n.effect),a(this,l).delete(t))});this.anchor=e,K(this,y,r)}ensure(e,r){var t=$,n=ce();if(r&&!a(this,h).has(e)&&!a(this,l).has(e))if(n){var i=document.createDocumentFragment(),u=k();i.append(u),a(this,l).set(e,{effect:C(()=>r(u)),fragment:i})}else a(this,h).set(e,C(()=>r(this.anchor)));if(a(this,d).set(t,e),n){for(const[f,c]of a(this,h))f===e?t.skipped_effects.delete(c):t.skipped_effects.add(c);for(const[f,c]of a(this,l))f===e?t.skipped_effects.delete(c.effect):t.skipped_effects.add(c.effect);t.oncommit(a(this,O)),t.ondiscard(a(this,m))}else T&&(this.anchor=fe),a(this,O).call(this)}}d=new WeakMap,h=new WeakMap,l=new WeakMap,v=new WeakMap,y=new WeakMap,O=new WeakMap,m=new WeakMap;function Ke(s,e,r=!1){T&&G();var t=new X(s),n=r?J:0;function i(u,f){if(T){const p=oe(s)===le;if(u===p){var c=de();he(c),t.anchor=c,q(!1),t.ensure(u,f),q(!0);return}}t.ensure(u,f)}z(()=>{var u=!1;e((f,c=!0)=>{u=!0,i(c,f)}),u||i(!1,null)},n)}function $e(s,e,r){T&&G();var t=new X(s);z(()=>{var n=e()??null;t.ensure(n,n&&(i=>r(i,n)))},J)}function Z(s,e){return s===e||(s==null?void 0:s[N])===e}function ke(s={},e,r,t){return pe(()=>{var n,i;return _e(()=>{n=i,i=[],Q(()=>{s!==r(...i)&&(e(s,...i),n&&Z(r(...n),s)&&e(null,...n))})}),()=>{ve(()=>{i&&Z(r(...i),s)&&e(null,...i)})}}),s}let E=!1,M=Symbol();function Ce(s,e,r){const t=r[e]??(r[e]={store:null,source:be(void 0),unsubscribe:H});if(t.store!==s&&!(M in r))if(t.unsubscribe(),t.store=s??null,s==null)t.source.v=void 0,t.unsubscribe=H;else{var n=!0;t.unsubscribe=ge(s,i=>{n?t.source.v=i:V(t.source,i)}),n=!1}return s&&M in r?Se(s):R(t.source)}function qe(s,e){return s.set(e),e}function He(){const s={};function e(){Pe(()=>{for(var r in s)s[r].unsubscribe();we(s,M,{enumerable:!1,value:!0})})}return[s,e]}function Be(s){var e=E;try{return E=!1,[s(),E]}finally{E=e}}const Ue={get(s,e){if(!s.exclude.includes(e))return s.props[e]},set(s,e){return!1},getOwnPropertyDescriptor(s,e){if(!s.exclude.includes(e)&&e in s.props)return{enumerable:!0,configurable:!0,value:s.props[e]}},has(s,e){return s.exclude.includes(e)?!1:e in s.props},ownKeys(s){return Reflect.ownKeys(s.props).filter(e=>!s.exclude.includes(e))}};function Ze(s,e,r){return new Proxy({props:s,exclude:e},Ue)}const Ye={get(s,e){let r=s.props.length;for(;r--;){let t=s.props[r];if(w(t)&&(t=t()),typeof t=="object"&&t!==null&&e in t)return t[e]}},set(s,e,r){let t=s.props.length;for(;t--;){let n=s.props[t];w(n)&&(n=n());const i=x(n,e);if(i&&i.set)return i.set(r),!0}return!1},getOwnPropertyDescriptor(s,e){let r=s.props.length;for(;r--;){let t=s.props[r];if(w(t)&&(t=t()),typeof t=="object"&&t!==null&&e in t){const n=x(t,e);return n&&!n.configurable&&(n.configurable=!0),n}}},has(s,e){if(e===N||e===W)return!1;for(let r of s.props)if(w(r)&&(r=r()),r!=null&&e in r)return!0;return!1},ownKeys(s){const e=[];for(let r of s.props)if(w(r)&&(r=r()),!!r){for(const t in r)e.includes(t)||e.push(t);for(const t of Object.getOwnPropertySymbols(r))e.includes(t)||e.push(t)}return e}};function ze(...s){return new Proxy({props:s},Ye)}function Ge(s,e,r,t){var B;var n=!De||(r&xe)!==0,i=(r&Ie)!==0,u=(r&me)!==0,f=t,c=!0,p=()=>(c&&(c=!1,f=u?Q(t):t),f),g;if(i){var ee=N in s||W in s;g=((B=x(s,e))==null?void 0:B.set)??(ee&&e in s?o=>s[e]=o:void 0)}var S,L=!1;i?[S,L]=Be(()=>s[e]):S=s[e],S===void 0&&t!==void 0&&(S=p(),g&&(n&&ye(),g(S)));var b;if(n?b=()=>{var o=s[e];return o===void 0?p():(c=!0,o)}:b=()=>{var o=s[e];return o!==void 0&&(f=void 0),o===void 0?f:o},n&&!(r&Oe))return b;if(g){var se=s.$$legacy;return function(o,A){return arguments.length>0?((!n||!A||se||L)&&g(A?b():o),o):b()}}var I=!1,P=(r&Me?Ne:Le)(()=>(I=!1,b()));i&&R(P);var re=Re;return function(o,A){if(arguments.length>0){const U=A?R(P):n&&i?Ae(o):o;return V(P,U),I=!0,f!==void 0&&(f=U),o}return Ee&&I||re.f&Te?P.v:R(P)}}export{X as B,He as a,ke as b,$e as c,ze as d,qe as e,Ke as i,Ge as p,Ze as r,Ce as s};
