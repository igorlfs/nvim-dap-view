import{t as y,a as i}from"./BLxlZUrJ.js";import"./CFq3jESr.js";import{s as a,f as D}from"./eUeLa1OZ.js";import{h as l}from"./CT0RkVi8.js";import{l as F,s as d}from"./BNd-5Pst.js";import{M as C}from"./BSJfd7z8.js";const o={title:"Control Bar"},{title:_}=o;var A=y('<p>The control bar is disabled by default. It can be enabled by setting <code>winbar.controls.enable</code>.</p> <img src="https://github.com/user-attachments/assets/3d8d7102-7183-4acf-9759-6a7c7b354e9a" alt="control bar"> <h2 id="options"><a href="#options">Options</a></h2> <p>Default options are listed below. Remeber, you don’t have to copy-paste them!</p> <!> <h2 id="custom-buttons"><a href="#custom-buttons">Custom Buttons</a></h2> <p><code>nvim-dap-view</code> provides some default buttons for the control bar, but you can also add your own. To do that, you can use the <code>controls.custom_buttons</code> table to declare your new button and then add it at the position you want in the <code>buttons</code> list.</p> <p>A custom button has 2 methods:</p> <ol><li><code>render</code> returning a string used to display the button (typically an emoji or a NerdFont glyph wrapped in an highlight group)</li> <li><code>action</code> a function that will be executed when the button is clicked. The function receives 3 arguments: <ul><li><code>clicks</code> the number of clicks</li> <li><code>button</code> the button clicked (<code>l</code>, <code>r</code>, <code>m</code>)</li> <li><code>modifiers</code> a string with the modifiers pressed (<code>c</code> for <code>control</code>, <code>s</code> for <code>shift</code>, <code>a</code> for <code>alt</code> and <code>m</code> for <code>meta</code>)</li></ul></li></ol> <p>See the <code>@ N</code> section in <code>:help statusline</code> for the complete specifications of a click handler.</p> <h3 id="example"><a href="#example">Example</a></h3> <p>An example adding 2 buttons:</p> <ul><li><code>fun</code>: the most basic button possible, just prints ”🎊” when clicked</li> <li><code>term_restart</code>: an hybrid button that acts as a stop/restart button. If the stop button is triggered by anything else than a single left click (middle click, right click, double click or click with a modifier), it will disconnect the session instead.</li></ul> <!>',1);function g(p,e){const t=F(e,["children","$$slots","$$events","$$legacy"]);C(p,d(()=>t,o,{children:(c,u)=>{var s=A(),n=a(D(s),8);l(n,()=>`<pre class="shiki catppuccin-mocha" style="background-color:#1e1e2e;color:#cdd6f4" tabindex="0"><code><span class="line"><span style="color:#CBA6F7">return</span><span style="color:#CDD6F4"> &#123;</span></span>
<span class="line"><span style="color:#CDD6F4">    winbar </span><span style="color:#94E2D5">=</span><span style="color:#CDD6F4"> &#123;</span></span>
<span class="line"><span style="color:#CDD6F4">        controls </span><span style="color:#94E2D5">=</span><span style="color:#CDD6F4"> &#123;</span></span>
<span class="line"><span style="color:#CDD6F4">            enabled </span><span style="color:#94E2D5">=</span><span style="color:#F38BA8"> false</span><span style="color:#CDD6F4">,</span></span>
<span class="line"><span style="color:#CDD6F4">            position </span><span style="color:#94E2D5">=</span><span style="color:#A6E3A1"> "right"</span><span style="color:#CDD6F4">,</span></span>
<span class="line"><span style="color:#CDD6F4">            buttons </span><span style="color:#94E2D5">=</span><span style="color:#CDD6F4"> &#123;</span></span>
<span class="line"><span style="color:#A6E3A1">                "play"</span><span style="color:#CDD6F4">,</span></span>
<span class="line"><span style="color:#A6E3A1">                "step_into"</span><span style="color:#CDD6F4">,</span></span>
<span class="line"><span style="color:#A6E3A1">                "step_over"</span><span style="color:#CDD6F4">,</span></span>
<span class="line"><span style="color:#A6E3A1">                "step_out"</span><span style="color:#CDD6F4">,</span></span>
<span class="line"><span style="color:#A6E3A1">                "step_back"</span><span style="color:#CDD6F4">,</span></span>
<span class="line"><span style="color:#A6E3A1">                "run_last"</span><span style="color:#CDD6F4">,</span></span>
<span class="line"><span style="color:#A6E3A1">                "terminate"</span><span style="color:#CDD6F4">,</span></span>
<span class="line"><span style="color:#A6E3A1">                "disconnect"</span><span style="color:#CDD6F4">,</span></span>
<span class="line"><span style="color:#CDD6F4">            &#125;,</span></span>
<span class="line"><span style="color:#CDD6F4">            custom_buttons </span><span style="color:#94E2D5">=</span><span style="color:#CDD6F4"> &#123;&#125;,</span></span>
<span class="line"><span style="color:#CDD6F4">            icons </span><span style="color:#94E2D5">=</span><span style="color:#CDD6F4"> &#123;</span></span>
<span class="line"><span style="color:#CDD6F4">                pause </span><span style="color:#94E2D5">=</span><span style="color:#A6E3A1"> ""</span><span style="color:#CDD6F4">,</span></span>
<span class="line"><span style="color:#CDD6F4">                play </span><span style="color:#94E2D5">=</span><span style="color:#A6E3A1"> ""</span><span style="color:#CDD6F4">,</span></span>
<span class="line"><span style="color:#CDD6F4">                step_into </span><span style="color:#94E2D5">=</span><span style="color:#A6E3A1"> ""</span><span style="color:#CDD6F4">,</span></span>
<span class="line"><span style="color:#CDD6F4">                step_over </span><span style="color:#94E2D5">=</span><span style="color:#A6E3A1"> ""</span><span style="color:#CDD6F4">,</span></span>
<span class="line"><span style="color:#CDD6F4">                step_out </span><span style="color:#94E2D5">=</span><span style="color:#A6E3A1"> ""</span><span style="color:#CDD6F4">,</span></span>
<span class="line"><span style="color:#CDD6F4">                step_back </span><span style="color:#94E2D5">=</span><span style="color:#A6E3A1"> ""</span><span style="color:#CDD6F4">,</span></span>
<span class="line"><span style="color:#CDD6F4">                run_last </span><span style="color:#94E2D5">=</span><span style="color:#A6E3A1"> ""</span><span style="color:#CDD6F4">,</span></span>
<span class="line"><span style="color:#CDD6F4">                terminate </span><span style="color:#94E2D5">=</span><span style="color:#A6E3A1"> ""</span><span style="color:#CDD6F4">,</span></span>
<span class="line"><span style="color:#CDD6F4">                disconnect </span><span style="color:#94E2D5">=</span><span style="color:#A6E3A1"> ""</span><span style="color:#CDD6F4">,</span></span>
<span class="line"><span style="color:#CDD6F4">            &#125;,</span></span>
<span class="line"><span style="color:#CDD6F4">        &#125;,</span></span>
<span class="line"><span style="color:#CDD6F4">    &#125;,</span></span>
<span class="line"><span style="color:#CDD6F4">&#125;</span></span></code></pre>`);var r=a(n,18);l(r,()=>`<pre class="shiki catppuccin-mocha" style="background-color:#1e1e2e;color:#cdd6f4" tabindex="0"><code><span class="line"><span style="color:#CBA6F7">return</span><span style="color:#CDD6F4"> &#123;</span></span>
<span class="line"><span style="color:#CDD6F4">    winbar </span><span style="color:#94E2D5">=</span><span style="color:#CDD6F4"> &#123;</span></span>
<span class="line"><span style="color:#CDD6F4">        controls </span><span style="color:#94E2D5">=</span><span style="color:#CDD6F4"> &#123;</span></span>
<span class="line"><span style="color:#CDD6F4">            enabled </span><span style="color:#94E2D5">=</span><span style="color:#F38BA8"> true</span><span style="color:#CDD6F4">,</span></span>
<span class="line"><span style="color:#CDD6F4">            buttons </span><span style="color:#94E2D5">=</span><span style="color:#CDD6F4"> &#123; </span><span style="color:#A6E3A1">"play"</span><span style="color:#CDD6F4">, </span><span style="color:#A6E3A1">"step_into"</span><span style="color:#CDD6F4">, </span><span style="color:#A6E3A1">"step_over"</span><span style="color:#CDD6F4">, </span><span style="color:#A6E3A1">"step_out"</span><span style="color:#CDD6F4">, </span><span style="color:#A6E3A1">"term_restart"</span><span style="color:#CDD6F4">, </span><span style="color:#A6E3A1">"fun" </span><span style="color:#CDD6F4">&#125;,</span></span>
<span class="line"><span style="color:#CDD6F4">            custom_buttons </span><span style="color:#94E2D5">=</span><span style="color:#CDD6F4"> &#123;</span></span>
<span class="line"><span style="color:#CDD6F4">                fun </span><span style="color:#94E2D5">=</span><span style="color:#CDD6F4"> &#123;</span></span>
<span class="line"><span style="color:#89B4FA;font-style:italic">                    render</span><span style="color:#94E2D5"> =</span><span style="color:#CBA6F7"> function</span><span style="color:#9399B2">()</span></span>
<span class="line"><span style="color:#CBA6F7">                        return</span><span style="color:#A6E3A1"> "🎉"</span></span>
<span class="line"><span style="color:#CBA6F7">                    end</span><span style="color:#CDD6F4">,</span></span>
<span class="line"><span style="color:#89B4FA;font-style:italic">                    action</span><span style="color:#94E2D5"> =</span><span style="color:#CBA6F7"> function</span><span style="color:#9399B2">()</span></span>
<span class="line"><span style="color:#CDD6F4">                        vim.</span><span style="color:#89B4FA;font-style:italic">print</span><span style="color:#CDD6F4">(</span><span style="color:#A6E3A1">"🎊"</span><span style="color:#CDD6F4">)</span></span>
<span class="line"><span style="color:#CBA6F7">                    end</span><span style="color:#CDD6F4">,</span></span>
<span class="line"><span style="color:#CDD6F4">                &#125;,</span></span>
<span class="line"><span style="color:#6C7086;font-style:italic">                -- Stop/Restart button</span></span>
<span class="line"><span style="color:#6C7086;font-style:italic">                -- Double click, middle click or click with a modifier disconnect instead of stop</span></span>
<span class="line"><span style="color:#CDD6F4">                term_restart </span><span style="color:#94E2D5">=</span><span style="color:#CDD6F4"> &#123;</span></span>
<span class="line"><span style="color:#89B4FA;font-style:italic">                    render</span><span style="color:#94E2D5"> =</span><span style="color:#CBA6F7"> function</span><span style="color:#9399B2">()</span></span>
<span class="line"><span style="color:#CBA6F7">                        local</span><span style="color:#CDD6F4"> session </span><span style="color:#94E2D5">=</span><span style="color:#89B4FA;font-style:italic"> require</span><span style="color:#CDD6F4">(</span><span style="color:#A6E3A1">"dap"</span><span style="color:#CDD6F4">).</span><span style="color:#89B4FA;font-style:italic">session</span><span style="color:#CDD6F4">()</span></span>
<span class="line"><span style="color:#CBA6F7">                        local</span><span style="color:#CDD6F4"> group </span><span style="color:#94E2D5">=</span><span style="color:#CDD6F4"> session </span><span style="color:#94E2D5">and</span><span style="color:#A6E3A1"> "ControlTerminate" </span><span style="color:#94E2D5">or</span><span style="color:#A6E3A1"> "ControlRunLast"</span></span>
<span class="line"><span style="color:#CBA6F7">                        local</span><span style="color:#CDD6F4"> icon </span><span style="color:#94E2D5">=</span><span style="color:#CDD6F4"> session </span><span style="color:#94E2D5">and</span><span style="color:#A6E3A1"> "" </span><span style="color:#94E2D5">or</span><span style="color:#A6E3A1"> ""</span></span>
<span class="line"><span style="color:#CBA6F7">                        return</span><span style="color:#A6E3A1"> "%#NvimDapView" </span><span style="color:#94E2D5">..</span><span style="color:#CDD6F4"> group </span><span style="color:#94E2D5">..</span><span style="color:#A6E3A1"> "#" </span><span style="color:#94E2D5">..</span><span style="color:#CDD6F4"> icon </span><span style="color:#94E2D5">..</span><span style="color:#A6E3A1"> "%*"</span></span>
<span class="line"><span style="color:#CBA6F7">                    end</span><span style="color:#CDD6F4">,</span></span>
<span class="line"><span style="color:#89B4FA;font-style:italic">                    action</span><span style="color:#94E2D5"> =</span><span style="color:#CBA6F7"> function</span><span style="color:#9399B2">(</span><span style="color:#EBA0AC;font-style:italic">clicks</span><span style="color:#9399B2">,</span><span style="color:#EBA0AC;font-style:italic"> button</span><span style="color:#9399B2">,</span><span style="color:#EBA0AC;font-style:italic"> modifiers</span><span style="color:#9399B2">)</span></span>
<span class="line"><span style="color:#CBA6F7">                        local</span><span style="color:#CDD6F4"> dap </span><span style="color:#94E2D5">=</span><span style="color:#89B4FA;font-style:italic"> require</span><span style="color:#CDD6F4">(</span><span style="color:#A6E3A1">"dap"</span><span style="color:#CDD6F4">)</span></span>
<span class="line"><span style="color:#CBA6F7">                        local</span><span style="color:#CDD6F4"> alt </span><span style="color:#94E2D5">=</span><span style="color:#CDD6F4"> clicks </span><span style="color:#94E2D5">></span><span style="color:#FAB387"> 1</span><span style="color:#94E2D5"> or</span><span style="color:#CDD6F4"> button </span><span style="color:#94E2D5">~=</span><span style="color:#A6E3A1"> "l" </span><span style="color:#94E2D5">or</span><span style="color:#F9E2AF;font-style:italic"> modifiers</span><span style="color:#CDD6F4">:</span><span style="color:#89B4FA;font-style:italic">gsub</span><span style="color:#CDD6F4">(</span><span style="color:#A6E3A1">" "</span><span style="color:#CDD6F4">, </span><span style="color:#A6E3A1">""</span><span style="color:#CDD6F4">) </span><span style="color:#94E2D5">~=</span><span style="color:#A6E3A1"> ""</span></span>
<span class="line"><span style="color:#CBA6F7">                        if</span><span style="color:#94E2D5"> not</span><span style="color:#CDD6F4"> dap.</span><span style="color:#89B4FA;font-style:italic">session</span><span style="color:#CDD6F4">() </span><span style="color:#CBA6F7">then</span></span>
<span class="line"><span style="color:#CDD6F4">                            dap.</span><span style="color:#89B4FA;font-style:italic">run_last</span><span style="color:#CDD6F4">()</span></span>
<span class="line"><span style="color:#CBA6F7">                        elseif</span><span style="color:#CDD6F4"> alt </span><span style="color:#CBA6F7">then</span></span>
<span class="line"><span style="color:#CDD6F4">                            dap.</span><span style="color:#89B4FA;font-style:italic">disconnect</span><span style="color:#CDD6F4">()</span></span>
<span class="line"><span style="color:#CBA6F7">                        else</span></span>
<span class="line"><span style="color:#CDD6F4">                            dap.</span><span style="color:#89B4FA;font-style:italic">terminate</span><span style="color:#CDD6F4">()</span></span>
<span class="line"><span style="color:#CBA6F7">                        end</span></span>
<span class="line"><span style="color:#CBA6F7">                    end</span><span style="color:#CDD6F4">,</span></span>
<span class="line"><span style="color:#CDD6F4">                &#125;,</span></span>
<span class="line"><span style="color:#CDD6F4">            &#125;,</span></span>
<span class="line"><span style="color:#CDD6F4">        &#125;,</span></span>
<span class="line"><span style="color:#CDD6F4">    &#125;,</span></span>
<span class="line"><span style="color:#CDD6F4">&#125;</span></span></code></pre>`),i(c,s)},$$slots:{default:!0}}))}export{g as default,o as metadata};
