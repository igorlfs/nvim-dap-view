var ue=Object.defineProperty;var F=r=>{throw TypeError(r)};var ce=(r,e,s)=>e in r?ue(r,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):r[e]=s;var j=(r,e,s)=>ce(r,typeof e!="symbol"?e+"":e,s),K=(r,e,s)=>e.has(r)||F("Cannot "+s);var a=(r,e,s)=>(K(r,e,"read from private field"),s?s.call(r):e.get(r)),v=(r,e,s)=>e.has(r)?F("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(r):e.set(r,s),$=(r,e,s,t)=>(K(r,e,"write to private field"),t?t.call(r,s):e.set(r,s),s);import{J as C,K as oe,M as x,N as le,O as H,P as q,Q as T,R as G,S as de,T as he,U as J,V as Q,W as V,X as W,Y as X,Z as pe,_ as k,$ as ee,a0 as m,a1 as _e,a2 as ve,b as re,a3 as be,a4 as L,o as Z,H as ge,a5 as Se,A as se,a6 as Pe,g as I,a7 as we,F as Te,a8 as N,a9 as Ae,aa as Oe,ab as Re,ac as Ee,ad as Ie,ae as me,af as ye,ag as De,ah as xe,ai as Ne,aj as Me,f as Le,ak as Ye,al as w,L as te}from"./BxT0VXJL.js";var p,_,d,b,A,O,y;class ne{constructor(e,s=!0){j(this,"anchor");v(this,p,new Map);v(this,_,new Map);v(this,d,new Map);v(this,b,new Set);v(this,A,!0);v(this,O,()=>{var e=C;if(a(this,p).has(e)){var s=a(this,p).get(e),t=a(this,_).get(s);if(t)oe(t),a(this,b).delete(s);else{var i=a(this,d).get(s);i&&(a(this,_).set(s,i.effect),a(this,d).delete(s),i.fragment.lastChild.remove(),this.anchor.before(i.fragment),t=i.effect)}for(const[n,u]of a(this,p)){if(a(this,p).delete(n),n===e)break;const f=a(this,d).get(u);f&&(x(f.effect),a(this,d).delete(u))}for(const[n,u]of a(this,_)){if(n===s||a(this,b).has(n))continue;const f=()=>{if(Array.from(a(this,p).values()).includes(n)){var h=document.createDocumentFragment();de(u,h),h.append(H()),a(this,d).set(n,{effect:u,fragment:h})}else x(u);a(this,b).delete(n),a(this,_).delete(n)};a(this,A)||!t?(a(this,b).add(n),le(u,f,!1)):f()}}});v(this,y,e=>{a(this,p).delete(e);const s=Array.from(a(this,p).values());for(const[t,i]of a(this,d))s.includes(t)||(x(i.effect),a(this,d).delete(t))});this.anchor=e,$(this,A,s)}ensure(e,s){var t=C,i=he();if(s&&!a(this,_).has(e)&&!a(this,d).has(e))if(i){var n=document.createDocumentFragment(),u=H();n.append(u),a(this,d).set(e,{effect:q(()=>s(u)),fragment:n})}else a(this,_).set(e,q(()=>s(this.anchor)));if(a(this,p).set(t,e),i){for(const[f,c]of a(this,_))f===e?t.unskip_effect(c):t.skip_effect(c);for(const[f,c]of a(this,d))f===e?t.unskip_effect(c.effect):t.skip_effect(c.effect);t.oncommit(a(this,O)),t.ondiscard(a(this,y))}else T&&(this.anchor=G),a(this,O).call(this)}}p=new WeakMap,_=new WeakMap,d=new WeakMap,b=new WeakMap,A=new WeakMap,O=new WeakMap,y=new WeakMap;function $e(r,e,s=!1){T&&Q();var t=new ne(r),i=s?V:0;function n(u,f){if(T){const l=W(r);var c;if(l===X?c=0:l===pe?c=!1:c=parseInt(l.substring(1)),u!==c){var h=k();ee(h),t.anchor=h,m(!1),t.ensure(u,f),m(!0);return}}t.ensure(u,f)}J(()=>{var u=!1;e((f,c=0)=>{u=!0,n(c,f)}),u||n(!1,null)},i)}function Ce(r,e,s){var t;T&&(t=G,Q());var i=new ne(r);J(()=>{var n=e()??null;if(T){var u=W(t),f=u===X,c=n!==null;if(f!==c){var h=k();ee(h),i.anchor=h,m(!1),i.ensure(n,n&&(l=>s(l,n))),m(!0);return}}i.ensure(n,n&&(l=>s(l,n)))},V)}function z(r,e){return r===e||(r==null?void 0:r[L])===e}function He(r={},e,s,t){return _e(()=>{var i,n;return ve(()=>{i=n,n=[],re(()=>{r!==s(...n)&&(e(r,...n),i&&z(s(...i),r)&&e(null,...i))})}),()=>{be(()=>{n&&z(s(...n),r)&&e(null,...n)})}}),r}let E=!1,M=Symbol();function qe(r,e,s){const t=s[e]??(s[e]={store:null,source:ge(void 0),unsubscribe:Z});if(t.store!==r&&!(M in s))if(t.unsubscribe(),t.store=r??null,r==null)t.source.v=void 0,t.unsubscribe=Z;else{var i=!0;t.unsubscribe=Se(r,n=>{i?t.source.v=n:se(t.source,n)}),i=!1}return r&&M in s?Pe(r):I(t.source)}function Ze(r,e){return r.set(e),e}function ze(){const r={};function e(){we(()=>{for(var s in r)r[s].unsubscribe();Te(r,M,{enumerable:!1,value:!0})})}return[r,e]}function Be(r){var e=E;try{return E=!1,[r(),E]}finally{E=e}}const Ue={get(r,e){if(!r.exclude.includes(e))return r.props[e]},set(r,e){return!1},getOwnPropertyDescriptor(r,e){if(!r.exclude.includes(e)&&e in r.props)return{enumerable:!0,configurable:!0,value:r.props[e]}},has(r,e){return r.exclude.includes(e)?!1:e in r.props},ownKeys(r){return Reflect.ownKeys(r.props).filter(e=>!r.exclude.includes(e))}};function Ge(r,e,s){return new Proxy({props:r,exclude:e},Ue)}const Fe={get(r,e){let s=r.props.length;for(;s--;){let t=r.props[s];if(w(t)&&(t=t()),typeof t=="object"&&t!==null&&e in t)return t[e]}},set(r,e,s){let t=r.props.length;for(;t--;){let i=r.props[t];w(i)&&(i=i());const n=N(i,e);if(n&&n.set)return n.set(s),!0}return!1},getOwnPropertyDescriptor(r,e){let s=r.props.length;for(;s--;){let t=r.props[s];if(w(t)&&(t=t()),typeof t=="object"&&t!==null&&e in t){const i=N(t,e);return i&&!i.configurable&&(i.configurable=!0),i}}},has(r,e){if(e===L||e===te)return!1;for(let s of r.props)if(w(s)&&(s=s()),s!=null&&e in s)return!0;return!1},ownKeys(r){const e=[];for(let s of r.props)if(w(s)&&(s=s()),!!s){for(const t in s)e.includes(t)||e.push(t);for(const t of Object.getOwnPropertySymbols(s))e.includes(t)||e.push(t)}return e}};function Je(...r){return new Proxy({props:r},Fe)}function Qe(r,e,s,t){var B;var i=!xe||(s&Ne)!==0,n=(s&De)!==0,u=(s&ye)!==0,f=t,c=!0,h=()=>(c&&(c=!1,f=u?re(t):t),f),l;if(n){var ie=L in r||te in r;l=((B=N(r,e))==null?void 0:B.set)??(ie&&e in r?o=>r[e]=o:void 0)}var S,Y=!1;n?[S,Y]=Be(()=>r[e]):S=r[e],S===void 0&&t!==void 0&&(S=h(),l&&(i&&Ae(),l(S)));var g;if(i?g=()=>{var o=r[e];return o===void 0?h():(c=!0,o)}:g=()=>{var o=r[e];return o!==void 0&&(f=void 0),o===void 0?f:o},i&&!(s&Oe))return g;if(l){var ae=r.$$legacy;return function(o,R){return arguments.length>0?((!i||!R||ae||Y)&&l(R?g():o),o):g()}}var D=!1,P=(s&Me?Le:Ye)(()=>(D=!1,g()));n&&I(P);var fe=Ie;return function(o,R){if(arguments.length>0){const U=R?I(P):i&&n?Re(o):o;return se(P,U),D=!0,f!==void 0&&(f=U),o}return Ee&&D||fe.f&me?P.v:I(P)}}export{ne as B,ze as a,He as b,Ce as c,Je as d,Ze as e,$e as i,Qe as p,Ge as r,qe as s};
