import"./CWj6FrbW.js";import{k as i,am as ne,i as c,o as J,j as f,w as x,an as M,l as T,ao as le,p as Q,ap as ie,s as g,n as X,h as E,x as b,m as Y,v as V,g as q,q as K}from"./BxT0VXJL.js";import{p as de,i as G,a as ve,s as H}from"./CMc_elRJ.js";import{s as Z,d as ce,t as w}from"./CK-AfBEA.js";import"./BxBzno_B.js";import{C as fe,t as pe,f as me}from"./CnNirPMy.js";const ue=()=>({needRefresh:!1,updateServiceWorker:!1,offlineReady:!1});var _e=ne('<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 20 20"><path fill="currentColor" d="M10 3v2a5 5 0 0 0-3.54 8.54l-1.41 1.41A7 7 0 0 1 10 3zm4.95 2.05A7 7 0 0 1 10 17v-2a5 5 0 0 0 3.54-8.54l1.41-1.41zM10 20l-4-4l4-4v8zm0-12V0l4 4l-4 4z"></path></svg>');function he(r){var e=_e();i(r,e)}var ge=T('<div role="button" tabindex="0"><!></div>');function ee(r,e){const n=de(e,"flat",3,!1);var t=ge();let l;var p=c(t);Z(p,()=>e.children??J),f(t),x(()=>l=ce(t,1,"btn svelte-djbubz",null,l,{primary:!n(),flat:n()})),M("click",t,function(...s){var a;(a=e.onclick)==null||a.apply(this,s)}),M("keyup",t,function(...s){var a;(a=e.onclick)==null||a.apply(this,s)}),i(r,t)}le(["click","keyup"]);var we=T(" <!>",1),ke=T('<div class="pwa-toast svelte-ymmm7d" role="alert"><div class="pwa-title svelte-ymmm7d"> </div> <div class="message svelte-ymmm7d"><span> </span></div> <div class="actions svelte-ymmm7d"><!> <!></div></div>');function ye(r,e){Q(e,!0);const n=ie();function t(){n("close")}const l="Tip",p="Close";var s=ke(),a=c(s),L=c(a,!0);f(a);var d=g(a,2),k=c(d),y=c(k,!0);f(k),f(d);var R=g(d,2),$=c(R);Z($,()=>e.children??J);var C=g($,2);ee(C,{onclick:t,flat:!0,children:(v,m)=>{X();var o=we(),A=E(o),O=g(A);fe(O),x(()=>{var u,_,h;return b(A,`${(((h=(_=(u=w)==null?void 0:u.i18n)==null?void 0:_.pwa)==null?void 0:h.close)||p)??""} `)}),i(v,o)},$$slots:{default:!0}}),f(R),f(s),x(()=>{var v,m,o;b(L,((o=(m=(v=w)==null?void 0:v.i18n)==null?void 0:m.pwa)==null?void 0:o.tip)||l),b(y,e.message)}),pe(1,s,()=>me),i(r,s),Y()}var Re=T(" <!>",1);function Oe(r,e){var u,_,h,W,P,z;Q(e,!0);const n=()=>H(y,"$offlineReady",l),t=()=>H(d,"$needRefresh",l),[l,p]=ve(),s="App ready to work offline",a="New content available, click on reload button to update",L="Reload",{needRefresh:d,updateServiceWorker:k,offlineReady:y}=ue();function R(){y.set(!1),d.set(!1)}const $=((h=(_=(u=w)==null?void 0:u.i18n)==null?void 0:_.pwa)==null?void 0:h.appReadyToWorkOffline)||s,C=((z=(P=(W=w)==null?void 0:W.i18n)==null?void 0:P.pwa)==null?void 0:z.newContentAvailable)||a,v=K(()=>n()||t()),m=K(()=>n()?$:C);var o=V(),A=E(o);{var O=D=>{ye(D,{get message(){return q(m)},$$events:{close:R},children:(te,$e)=>{var N=V(),ae=E(N);{var se=F=>{ee(F,{onclick:()=>k(!0),children:(oe,Ae)=>{X();var U=Re(),S=E(U),re=g(S);he(re),x(()=>{var B,I,j;return b(S,`${(((j=(I=(B=w)==null?void 0:B.i18n)==null?void 0:I.pwa)==null?void 0:j.reload)||L)??""} `)}),i(oe,U)},$$slots:{default:!0}})};G(ae,F=>{t()&&F(se)})}i(te,N)},$$slots:{default:!0}})};G(A,D=>{q(v)&&D(O)})}i(r,o),Y(),p()}export{Oe as default};
